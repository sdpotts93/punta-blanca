const checkinDate=document.getElementById("Check-in"),checkinDatepicker=new TheDatepicker.Datepicker(checkinDate);checkinDatepicker.render();const mxCityDateInEnglishLocale=(new Date).toLocaleString("en-US",{timeZone:"America/Mexico_City",year:"numeric",month:"2-digit",day:"2-digit"});checkinDatepicker.options.setMinDate(mxCityDateInEnglishLocale);let checkinParams="";const checkoutDate=document.getElementById("Check-out"),checkoutDatepicker=new TheDatepicker.Datepicker(checkoutDate);checkoutDatepicker.render();const initialMinCheckoutDate=new Date(Date.UTC(mxCityDateInEnglishLocale.split("/")[2],String(parseInt(mxCityDateInEnglishLocale.split("/")[0])-1),String(parseInt(mxCityDateInEnglishLocale.split("/")[1])+1))).toISOString().split("T")[0],formattedInitialMinCheckoutDate=formatISODate(initialMinCheckoutDate);checkoutDatepicker.options.setMinDate(formattedInitialMinCheckoutDate);let checkoutParams="";const checkAvailabilityButton=document.querySelector("#email-form > input"),bookNowHeader=document.querySelector("body > div.page-wrapper > div:nth-child(2) > div > div.nav-right-cta.top-menu");function handleCheckAvailability(e){e.preventDefault(),e.stopPropagation(),checkoutParams&&checkinParams&&(window.location.href=`https://hotels.cloudbeds.com/reservation/HkDshd#checkin=${checkinParams}&checkout=${checkoutParams}`)}function formatISODate(e){const t=e.split("-");return`${t[1]}/${t[2]}/${t[0]}`}function padNumber(e){return 2==String(e).length?String(e):String(e).padStart(1,"0")}function maskDateInput(e){return!1}bookNowHeader.href="https://hotels.cloudbeds.com/reservation/HkDshd",checkAvailabilityButton.addEventListener("click",handleCheckAvailability,!1),checkinDate.addEventListener("input",maskDateInput,!1),checkoutDate.addEventListener("input",maskDateInput,!1),checkinDatepicker.options.onSelect(((e,t,a)=>{if(!t){checkinParams="";const e=formatISODate(new Date(Date.UTC(mxCityDateInEnglishLocale.split("/")[2],String(parseInt(mxCityDateInEnglishLocale.split("/")[0])-1),String(parseInt(mxCityDateInEnglishLocale.split("/")[1])+1))).toISOString().split("T")[0]);return checkoutDatepicker.options.setMinDate(e),void(checkinDate.value="")}const i=formatISODate(new Date(Date.UTC(t.year,t.month-1,t.dayNumber+1)).toISOString().split("T")[0]);checkoutDatepicker.options.setMinDate(i),checkinDate.value=`${padNumber(t.dayNumber)}-${padNumber(t.month)}-${t.year}`,checkinParams=`${t.year}-${padNumber(t.month)}-${padNumber(t.dayNumber)}`})),checkoutDatepicker.options.onSelect(((e,t,a)=>{if(!t)return checkoutParams="",checkinDatepicker.options.setMaxDate(null),void(checkoutDate.value="");const i=formatISODate(new Date(Date.UTC(t.year,t.month-1,t.dayNumber-1)).toISOString().split("T")[0]);checkinDatepicker.options.setMaxDate(i),checkoutDate.value=`${padNumber(t.dayNumber)}-${padNumber(t.month)}-${t.year}`,checkoutParams=`${t.year}-${padNumber(t.month)}-${padNumber(t.dayNumber)}`}));
